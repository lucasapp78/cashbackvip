<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>L.A Cashback VIP üëë</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f9f9f9; padding: 20px; margin: 0; color: #333;
    }
    h2 { text-align: center; color: #0a2c5a; margin-bottom: 20px; }
    select, input, button {
      display: block; width: 100%; margin-bottom: 16px; padding: 12px;
      font-size: 1rem; border-radius: 8px; border: 1px solid #ccc;
      transition: border 0.3s ease;
    }
    select:focus, input:focus { border-color: #007bff; outline: none; }
    button {
      background-color: #007bff; color: white; font-weight: bold;
      border: none; cursor: pointer; transition: background-color 0.3s ease;
    }
    button:hover { background-color: #0056b3; }
    .jogo-card {
      border: 1px solid #ddd; border-radius: 10px; margin-bottom: 20px; background: #fff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05); overflow: hidden;
    }
    .jogo-header {
      background-color: #0a2c5a; color: white; padding: 10px 16px;
      font-weight: bold; font-size: 1rem; text-transform: uppercase;
    }
    .jogo-conteudo { padding: 16px; }
    .jogo-info, .jogo-times {
      text-align: center; font-size: 1rem; font-weight: bold; margin-bottom: 10px;
    }
    .jogo-odds label {
      background-color: #e6f0ff; color: #0a2c5a; padding: 8px 12px;
      border-radius: 6px; font-size: 0.95rem; cursor: pointer;
      display: inline-block; margin: 6px 6px 0 0; transition: background-color 0.3s;
    }
    .jogo-odds input { transform: scale(1.1); margin-right: 6px; }
    #resultado { margin-top: 24px; }
    @media (min-width: 768px) {
      body { max-width: 800px; margin: auto; }
      .jogo-odds label { font-size: 1rem; }
      select, input, button { font-size: 1.05rem; }
    }
  </style>
</head>
<body>
  <h2>L.A Cashback VIP üëë</h2>

  <label for="liga">Campeonato:</label>
  <select id="liga">
    <option value="71">Brasileir√£o S√©rie A</option>
    <option value="72">S√©rie B</option>
    <option value="73">Copa do Brasil</option>
    <option value="9">Libertadores</option>
    <option value="39">Premier League</option>
    <option value="140">La Liga</option>
    <option value="2">Champions League</option>
  </select>

  <button onclick="carregarOddsReais()">üîÑ Carregar Odds Reais</button>

  <div id="inputs"></div>

  <label for="tipoDesdobramento">Tipo de aposta (acertos):</label>
  <select id="tipoDesdobramento">
    <option value="1">1 (simples)</option>
    <option value="2">2 (duplas)</option>
    <option value="3">3 (trios)</option>
    <option value="4">4 (quartetos)</option>
    <option value="5">5 (quinas)</option>
    <option value="6">6 (senas)</option>
  </select>

  <input type="number" step="0.01" placeholder="Valor por combina√ß√£o (R$)" id="stake" value="10" />
  <button onclick="gerarDesdobramento()">Gerar L.A Cashback VIP üëë</button>
  <button onclick="exportarPDF()">üìÑ Exportar como PDF</button>
  <button onclick="compartilharWhatsApp()">üì§ Compartilhar no WhatsApp</button>

  <div id="resultado"></div>

  <div style="background: #ffe600; padding: 10px; text-align: center; font-weight: bold; border-radius: 8px; margin-bottom: 16px;">
    üî• Siga nosso parceiro no Instagram: 
    <a href="https://instagram.com/brasilleirou" target="_blank" style="color: #0a2c5a; text-decoration: none;">
      @brasilleirou Segue 1.7
    </a> üí•
  </div>

<script>
async function carregarOddsReais() {
    const API_KEY = "69b92fb729838ba69139a6d92c457f83";
    const ligaID = document.getElementById("liga").value;
    const url = `https://v3.football.api-sports.io/odds?league=${ligaID}&season=2025&bookmaker=2`;

    const headers = {
        "x-apisports-key": API_KEY,
        "Accept": "application/json"
    };

    try {
        const response = await fetch(url, { method: 'GET', headers });
        if (!response.ok) throw new Error('Erro na resposta da rede');

        const json = await response.json();
        const data = json.response;
        const inputs = document.getElementById("inputs");
        inputs.innerHTML = "";

        for (const item of data) {
            const fixture = item.fixture;
            const fixtureId = fixture?.id;
            const bookmaker = item.bookmakers?.[0];
            const bets = bookmaker?.bets;

            if (!fixture || !fixtureId || !Array.isArray(bets)) continue;

            let homeTeam = "Time Casa";
            let awayTeam = "Time Visitante";

            try {
                const fixtureResp = await fetch(`https://v3.football.api-sports.io/fixtures?id=${fixtureId}`, { headers });
                const fixtureJson = await fixtureResp.json();
                const fixtureData = fixtureJson.response[0];

                homeTeam = fixtureData?.teams?.home?.name || homeTeam;
                awayTeam = fixtureData?.teams?.away?.name || awayTeam;
            } catch (e) {
                console.warn("Erro ao carregar nomes dos times para fixture:", fixtureId);
            }

            let oddsHTML = "";
            bets.forEach(bet => {
                oddsHTML += `<div style="margin-bottom: 12px;"><strong>${bet.name}</strong><br>`;
                bet.values.forEach(odd => {
                    const nome = `${bet.name}: ${odd.value}`;
                    const valor = parseFloat(odd.odd);
                    oddsHTML += `<label><input type="checkbox" class="jogoCheck" data-nome="${nome}" data-odd="${valor.toFixed(2)}" /> ${odd.value} - ${valor.toFixed(2)}</label><br>`;
                });
                oddsHTML += `</div>`;
            });

            if (oddsHTML.includes('input')) {
                const dataHora = new Date(fixture.date);
                const dataStr = dataHora.toLocaleDateString("pt-BR", { day: '2-digit', month: 'short' });
                const horaStr = dataHora.toLocaleTimeString("pt-BR", { hour: '2-digit', minute: '2-digit' });

                inputs.innerHTML += `
                  <div class="jogo-card">
                    <div class="jogo-header">${ligaID}</div>
                    <div class="jogo-conteudo">
                      <div class="jogo-info">üóìÔ∏è ${dataStr} √†s ${horaStr}</div>
                      <div class="jogo-times">‚öΩ ${homeTeam} vs üü¢ ${awayTeam}</div>
                      <div class="jogo-odds">${oddsHTML}</div>
                    </div>
                  </div>`;
            }
        }

        if (!inputs.innerHTML.trim()) {
            inputs.innerHTML = "<p style='color: red; text-align: center;'>Nenhuma odd encontrada para esta liga.</p>";
        }

    } catch (error) {
        console.error('Erro ao carregar odds:', error);
        alert('Erro ao carregar odds. Veja o console para mais detalhes.');
    }
}

// As demais fun√ß√µes (gerarCombinacoes, gerarDesdobramento, exportarPDF, compartilharWhatsApp) permanecem as mesmas...
</script>
</body>
</html>
